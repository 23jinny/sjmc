<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MGXS Part III: Libraries &mdash; OpenMC Documentation</title>
    
    <link rel="stylesheet" href="../../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="OpenMC Documentation" href="../../index.html" />
    <link rel="up" title="Python API" href="../index.html" />
    <link rel="next" title="Publications" href="../../publications.html" />
    <link rel="prev" title="MGXS Part II: Advanced Features" href="mgxs-part-ii.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner">
        <a href="../../index.html">
          <img class="logo" src="../../_static/openmc.png" alt="Logo"/>
        </a>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="mgxs-part-ii.html">MGXS Part II: Advanced Features</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../../publications.html">Publications</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="mgxs-part-iii-libraries">
<span id="notebook-mgxs-part-iii"></span><h1>MGXS Part III: Libraries<a class="headerlink" href="#mgxs-part-iii-libraries" title="Permalink to this headline">¶</a></h1>
<div class="ipynotebook">


<meta charset="utf-8" />
<title>mgxs-part-iii</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<style scoped="scoped" type="text/css">
    /*!
*
* Twitter Bootstrap
*
*
* Font Awesome
*
*//*!
 *  Font Awesome 4.3.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */@font-face{font-family:'FontAwesome';src:url('../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.3.0');src:url('../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.3.0') format('embedded-opentype'),url('../components/font-awesome/fonts/fontawesome-webfont.woff2?v=4.3.0') format('woff2'),url('../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.3.0') format('woff'),url('../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.3.0') format('truetype'),url('../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.3.0#fontawesomeregular') format('svg');font-weight:normal;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transform:translate(0, 0)}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:solid .08em #eee;border-radius:.1em}.pull-right{float:right}.pull-left{float:left}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);-webkit-transform:scale(-1, 1);-ms-transform:scale(-1, 1);transform:scale(-1, 1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);-webkit-transform:scale(1, -1);-ms-transform:scale(1, -1);transform:scale(1, -1)}:root .fa-rotate-90,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-flip-horizontal,:root .fa-flip-vertical{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-remove:before,.fa-close:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-gear:before,.fa-cog:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-rotate-right:before,.fa-repeat:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-photo:before,.fa-image:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-warning:before,.fa-exclamation-triangle:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-gears:before,.fa-cogs:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook-f:before,.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-save:before,.fa-floppy-o:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-navicon:before,.fa-reorder:before,.fa-bars:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-unsorted:before,.fa-sort:before{content:"\f0dc"}.fa-sort-down:before,.fa-sort-desc:before{content:"\f0dd"}.fa-sort-up:before,.fa-sort-asc:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-legal:before,.fa-gavel:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-flash:before,.fa-bolt:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-paste:before,.fa-clipboard:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-unlink:before,.fa-chain-broken:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-toggle-down:before,.fa-caret-square-o-down:before{content:"\f150"}.fa-toggle-up:before,.fa-caret-square-o-up:before{content:"\f151"}.fa-toggle-right:before,.fa-caret-square-o-right:before{content:"\f152"}.fa-euro:before,.fa-eur:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-rupee:before,.fa-inr:before{content:"\f156"}.fa-cny:before,.fa-rmb:before,.fa-yen:before,.fa-jpy:before{content:"\f157"}.fa-ruble:before,.fa-rouble:before,.fa-rub:before{content:"\f158"}.fa-won:before,.fa-krw:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before,.fa-gratipay:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-toggle-left:before,.fa-caret-square-o-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-turkish-lira:before,.fa-try:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-institution:before,.fa-bank:before,.fa-university:before{content:"\f19c"}.fa-mortar-board:before,.fa-graduation-cap:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-photo-o:before,.fa-file-picture-o:before,.fa-file-image-o:before{content:"\f1c5"}.fa-file-zip-o:before,.fa-file-archive-o:before{content:"\f1c6"}.fa-file-sound-o:before,.fa-file-audio-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-saver:before,.fa-support:before,.fa-life-ring:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-rebel:before{content:"\f1d0"}.fa-ge:before,.fa-empire:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-hacker-news:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-send:before,.fa-paper-plane:before{content:"\f1d8"}.fa-send-o:before,.fa-paper-plane-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-genderless:before,.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-soccer-ball-o:before,.fa-futbol-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-shekel:before,.fa-sheqel:before,.fa-ils:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}.fa-buysellads:before{content:"\f20d"}.fa-connectdevelop:before{content:"\f20e"}.fa-dashcube:before{content:"\f210"}.fa-forumbee:before{content:"\f211"}.fa-leanpub:before{content:"\f212"}.fa-sellsy:before{content:"\f213"}.fa-shirtsinbulk:before{content:"\f214"}.fa-simplybuilt:before{content:"\f215"}.fa-skyatlas:before{content:"\f216"}.fa-cart-plus:before{content:"\f217"}.fa-cart-arrow-down:before{content:"\f218"}.fa-diamond:before{content:"\f219"}.fa-ship:before{content:"\f21a"}.fa-user-secret:before{content:"\f21b"}.fa-motorcycle:before{content:"\f21c"}.fa-street-view:before{content:"\f21d"}.fa-heartbeat:before{content:"\f21e"}.fa-venus:before{content:"\f221"}.fa-mars:before{content:"\f222"}.fa-mercury:before{content:"\f223"}.fa-transgender:before{content:"\f224"}.fa-transgender-alt:before{content:"\f225"}.fa-venus-double:before{content:"\f226"}.fa-mars-double:before{content:"\f227"}.fa-venus-mars:before{content:"\f228"}.fa-mars-stroke:before{content:"\f229"}.fa-mars-stroke-v:before{content:"\f22a"}.fa-mars-stroke-h:before{content:"\f22b"}.fa-neuter:before{content:"\f22c"}.fa-facebook-official:before{content:"\f230"}.fa-pinterest-p:before{content:"\f231"}.fa-whatsapp:before{content:"\f232"}.fa-server:before{content:"\f233"}.fa-user-plus:before{content:"\f234"}.fa-user-times:before{content:"\f235"}.fa-hotel:before,.fa-bed:before{content:"\f236"}.fa-viacoin:before{content:"\f237"}.fa-train:before{content:"\f238"}.fa-subway:before{content:"\f239"}.fa-medium:before{content:"\f23a"}/*!
*
* IPython base
*
*
* IPython auth
*
*/.center-nav{display:inline-block;margin-bottom:-4px}/*!
*
* IPython tree view
*
*
* IPython text editor webapp
*
*
* IPython notebook
*
*
* IPython notebook webapp
*
    </style>
<style scoped="scoped" type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>


<style scoped="scoped" type="text/css">
/* Overrides of notebook CSS for static HTML export */

div#notebook {
  overflow: visible;
  border-top: none;
}

@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration -->



  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This IPython Notebook illustrates the use of the <strong><code>openmc.mgxs.Library</code></strong> class. The <code>Library</code> class is designed to automate the calculation of multi-group cross sections for use cases with one or more domains, cross section types, and/or nuclides. In particular, this Notebook illustrates the following features:</p>
<ul>
<li>Calculation of multi-group cross sections for a <strong>fuel assembly</strong></li>
<li>Automated creation, manipulation and storage of <code>MGXS</code> with <strong><code>openmc.mgxs.Library</code></strong></li>
<li><strong>Validation</strong> of multi-group cross sections with <strong><a href="https://mit-crpg.github.io/OpenMOC/">OpenMOC</a></strong></li>
<li>Steady-state pin-by-pin <strong>fission rates comparison</strong> between OpenMC and <a href="https://mit-crpg.github.io/OpenMOC/">OpenMOC</a></li>
</ul>
<p><strong>Note:</strong> This Notebook was created using <a href="https://mit-crpg.github.io/OpenMOC/">OpenMOC</a> to verify the multi-group cross-sections generated by OpenMC. In order to run this Notebook in its entirety, you must have <a href="https://mit-crpg.github.io/OpenMOC/">OpenMOC</a> installed on your system, along with OpenCG to convert the OpenMC geometries into OpenMOC geometries. In addition, this Notebook illustrates the use of <a href="http://pandas.pydata.org/">Pandas</a> <code>DataFrames</code> to containerize multi-group cross section data. We recommend using <a href="http://pandas.pydata.org/">Pandas</a> &gt;v0.15.0 or later since OpenMC's Python API leverages the multi-indexing feature included in the most recent releases of <a href="http://pandas.pydata.org/">Pandas</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Generate-Input-Files">Generate Input Files<a class="anchor-link" href="#Generate-Input-Files">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">pickle</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="kn">as</span> <span class="nn">pylab</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">openmc</span>
<span class="kn">import</span> <span class="nn">openmc.mgxs</span>
<span class="kn">from</span> <span class="nn">openmc.statepoint</span> <span class="kn">import</span> <span class="n">StatePoint</span>
<span class="kn">from</span> <span class="nn">openmc.summary</span> <span class="kn">import</span> <span class="n">Summary</span>

<span class="kn">import</span> <span class="nn">openmoc</span>
<span class="kn">import</span> <span class="nn">openmoc.process</span>
<span class="kn">from</span> <span class="nn">openmoc.compatible</span> <span class="kn">import</span> <span class="n">get_openmoc_geometry</span>
<span class="kn">from</span> <span class="nn">openmoc.materialize</span> <span class="kn">import</span> <span class="n">load_openmc_mgxs_lib</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/lib/pymodules/python2.7/matplotlib/__init__.py:1173: UserWarning:  This call to matplotlib.use() has no effect
because the backend has already been chosen;
matplotlib.use() must be called *before* pylab, matplotlib.pyplot,
or matplotlib.backends is imported for the first time.

  warnings.warn(_use_error_msg)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First we need to define materials that will be used in the problem. Before defining a material, we must create nuclides that are used in the material.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Instantiate some Nuclides</span>
<span class="n">h1</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s">&#39;H-1&#39;</span><span class="p">)</span>
<span class="n">b10</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s">&#39;B-10&#39;</span><span class="p">)</span>
<span class="n">o16</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s">&#39;O-16&#39;</span><span class="p">)</span>
<span class="n">u235</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s">&#39;U-235&#39;</span><span class="p">)</span>
<span class="n">u238</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s">&#39;U-238&#39;</span><span class="p">)</span>
<span class="n">zr90</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Nuclide</span><span class="p">(</span><span class="s">&#39;Zr-90&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the nuclides we defined, we will now create three materials for the fuel, water, and cladding of the fuel pins.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># 1.6 enriched fuel</span>
<span class="n">fuel</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;1.6</span><span class="si">% F</span><span class="s">uel&#39;</span><span class="p">)</span>
<span class="n">fuel</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">10.31341</span><span class="p">)</span>
<span class="n">fuel</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="n">u235</span><span class="p">,</span> <span class="mf">3.7503e-4</span><span class="p">)</span>
<span class="n">fuel</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="n">u238</span><span class="p">,</span> <span class="mf">2.2625e-2</span><span class="p">)</span>
<span class="n">fuel</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="n">o16</span><span class="p">,</span> <span class="mf">4.6007e-2</span><span class="p">)</span>

<span class="c"># borated water</span>
<span class="n">water</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Borated Water&#39;</span><span class="p">)</span>
<span class="n">water</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">0.740582</span><span class="p">)</span>
<span class="n">water</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="n">h1</span><span class="p">,</span> <span class="mf">4.9457e-2</span><span class="p">)</span>
<span class="n">water</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="n">o16</span><span class="p">,</span> <span class="mf">2.4732e-2</span><span class="p">)</span>
<span class="n">water</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="n">b10</span><span class="p">,</span> <span class="mf">8.0042e-6</span><span class="p">)</span>

<span class="c"># zircaloy</span>
<span class="n">zircaloy</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Material</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Zircaloy&#39;</span><span class="p">)</span>
<span class="n">zircaloy</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="s">&#39;g/cm3&#39;</span><span class="p">,</span> <span class="mf">6.55</span><span class="p">)</span>
<span class="n">zircaloy</span><span class="o">.</span><span class="n">add_nuclide</span><span class="p">(</span><span class="n">zr90</span><span class="p">,</span> <span class="mf">7.2758e-3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With our three materials, we can now create a <code>MaterialsFile</code> object that can be exported to an actual XML file.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Instantiate a MaterialsFile, add Materials</span>
<span class="n">materials_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">MaterialsFile</span><span class="p">()</span>
<span class="n">materials_file</span><span class="o">.</span><span class="n">add_material</span><span class="p">(</span><span class="n">fuel</span><span class="p">)</span>
<span class="n">materials_file</span><span class="o">.</span><span class="n">add_material</span><span class="p">(</span><span class="n">water</span><span class="p">)</span>
<span class="n">materials_file</span><span class="o">.</span><span class="n">add_material</span><span class="p">(</span><span class="n">zircaloy</span><span class="p">)</span>
<span class="n">materials_file</span><span class="o">.</span><span class="n">default_xs</span> <span class="o">=</span> <span class="s">&#39;71c&#39;</span>

<span class="c"># Export to &quot;materials.xml&quot;</span>
<span class="n">materials_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's move on to the geometry. This problem will be a square array of fuel pins and control rod guide tubes for which we can use OpenMC's lattice/universe feature. The basic universe will have three regions for the fuel, the clad, and the surrounding coolant. The first step is to create the bounding surfaces for fuel and clad, as well as the outer bounding surfaces of the problem.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create cylinders for the fuel and clad</span>
<span class="n">fuel_outer_radius</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">0.39218</span><span class="p">)</span>
<span class="n">clad_outer_radius</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZCylinder</span><span class="p">(</span><span class="n">x0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">y0</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mf">0.45720</span><span class="p">)</span>

<span class="c"># Create boundary planes to surround the geometry</span>
<span class="n">min_x</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">XPlane</span><span class="p">(</span><span class="n">x0</span><span class="o">=-</span><span class="mf">10.71</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s">&#39;reflective&#39;</span><span class="p">)</span>
<span class="n">max_x</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">XPlane</span><span class="p">(</span><span class="n">x0</span><span class="o">=+</span><span class="mf">10.71</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s">&#39;reflective&#39;</span><span class="p">)</span>
<span class="n">min_y</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">YPlane</span><span class="p">(</span><span class="n">y0</span><span class="o">=-</span><span class="mf">10.71</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s">&#39;reflective&#39;</span><span class="p">)</span>
<span class="n">max_y</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">YPlane</span><span class="p">(</span><span class="n">y0</span><span class="o">=+</span><span class="mf">10.71</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s">&#39;reflective&#39;</span><span class="p">)</span>
<span class="n">min_z</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=-</span><span class="mf">10.</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s">&#39;reflective&#39;</span><span class="p">)</span>
<span class="n">max_z</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">ZPlane</span><span class="p">(</span><span class="n">z0</span><span class="o">=+</span><span class="mf">10.</span><span class="p">,</span> <span class="n">boundary_type</span><span class="o">=</span><span class="s">&#39;reflective&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the surfaces defined, we can now construct a fuel pin cell from cells that are defined by intersections of half-spaces created by the surfaces.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create a Universe to encapsulate a fuel pin</span>
<span class="n">fuel_pin_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;1.6</span><span class="si">% F</span><span class="s">uel Pin&#39;</span><span class="p">)</span>

<span class="c"># Create fuel Cell</span>
<span class="n">fuel_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;1.6</span><span class="si">% F</span><span class="s">uel&#39;</span><span class="p">)</span>
<span class="n">fuel_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">fuel</span>
<span class="n">fuel_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">fuel_outer_radius</span>
<span class="n">fuel_pin_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">fuel_cell</span><span class="p">)</span>

<span class="c"># Create a clad Cell</span>
<span class="n">clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;1.6% Clad&#39;</span><span class="p">)</span>
<span class="n">clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">zircaloy</span>
<span class="n">clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">fuel_outer_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_outer_radius</span>
<span class="n">fuel_pin_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_cell</span><span class="p">)</span>

<span class="c"># Create a moderator Cell</span>
<span class="n">moderator_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;1.6% Moderator&#39;</span><span class="p">)</span>
<span class="n">moderator_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">water</span>
<span class="n">moderator_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">clad_outer_radius</span>
<span class="n">fuel_pin_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">moderator_cell</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Likewise, we can construct a control rod guide tube with the same surfaces.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create a Universe to encapsulate a control rod guide tube</span>
<span class="n">guide_tube_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Guide Tube&#39;</span><span class="p">)</span>

<span class="c"># Create guide tube Cell</span>
<span class="n">guide_tube_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Guide Tube Water&#39;</span><span class="p">)</span>
<span class="n">guide_tube_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">water</span>
<span class="n">guide_tube_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">-</span><span class="n">fuel_outer_radius</span>
<span class="n">guide_tube_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">guide_tube_cell</span><span class="p">)</span>

<span class="c"># Create a clad Cell</span>
<span class="n">clad_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Guide Clad&#39;</span><span class="p">)</span>
<span class="n">clad_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">zircaloy</span>
<span class="n">clad_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">fuel_outer_radius</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">clad_outer_radius</span>
<span class="n">guide_tube_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">clad_cell</span><span class="p">)</span>

<span class="c"># Create a moderator Cell</span>
<span class="n">moderator_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;Guide Tube Moderator&#39;</span><span class="p">)</span>
<span class="n">moderator_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">water</span>
<span class="n">moderator_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">clad_outer_radius</span>
<span class="n">guide_tube_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">moderator_cell</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using the pin cell universe, we can construct a 17x17 rectangular lattice with a 1.26 cm pitch.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create fuel assembly Lattice</span>
<span class="n">assembly</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">RectLattice</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;1.6</span><span class="si">% F</span><span class="s">uel Assembly&#39;</span><span class="p">)</span>
<span class="n">assembly</span><span class="o">.</span><span class="n">dimension</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">)</span>
<span class="n">assembly</span><span class="o">.</span><span class="n">pitch</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.26</span><span class="p">,</span> <span class="mf">1.26</span><span class="p">)</span>
<span class="n">assembly</span><span class="o">.</span><span class="n">lower_left</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.26</span> <span class="o">*</span> <span class="mf">17.</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we create a NumPy array of fuel pin and guide tube universes for the lattice.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create array indices for guide tube locations in lattice</span>
<span class="n">template_x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span>
                       <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">])</span>
<span class="n">template_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span>
                       <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">])</span>

<span class="c"># Initialize an empty 17x17 array of the lattice universes</span>
<span class="n">universes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">)</span>

<span class="c"># Fill the array with the fuel pin and guide tube universes</span>
<span class="n">universes</span><span class="p">[:,:]</span> <span class="o">=</span> <span class="n">fuel_pin_universe</span>
<span class="n">universes</span><span class="p">[</span><span class="n">template_x</span><span class="p">,</span> <span class="n">template_y</span><span class="p">]</span> <span class="o">=</span> <span class="n">guide_tube_universe</span>

<span class="c"># Store the array of universes in the lattice</span>
<span class="n">assembly</span><span class="o">.</span><span class="n">universes</span> <span class="o">=</span> <span class="n">universes</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>OpenMC requires that there is a "root" universe. Let us create a root cell that is filled by the pin cell universe and then assign it to the root universe.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create root Cell</span>
<span class="n">root_cell</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Cell</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;root cell&#39;</span><span class="p">)</span>
<span class="n">root_cell</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="n">assembly</span>

<span class="c"># Add boundary planes</span>
<span class="n">root_cell</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="o">+</span><span class="n">min_x</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">max_x</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">min_y</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">max_y</span> <span class="o">&amp;</span> <span class="o">+</span><span class="n">min_z</span> <span class="o">&amp;</span> <span class="o">-</span><span class="n">max_z</span>

<span class="c"># Create root Universe</span>
<span class="n">root_universe</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Universe</span><span class="p">(</span><span class="n">universe_id</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;root universe&#39;</span><span class="p">)</span>
<span class="n">root_universe</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">root_cell</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We now must create a geometry that is assigned a root universe, put the geometry into a <code>GeometryFile</code> object, and export it to XML.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create Geometry and set root Universe</span>
<span class="n">geometry</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Geometry</span><span class="p">()</span>
<span class="n">geometry</span><span class="o">.</span><span class="n">root_universe</span> <span class="o">=</span> <span class="n">root_universe</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Instantiate a GeometryFile</span>
<span class="n">geometry_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">GeometryFile</span><span class="p">()</span>
<span class="n">geometry_file</span><span class="o">.</span><span class="n">geometry</span> <span class="o">=</span> <span class="n">geometry</span>

<span class="c"># Export to &quot;geometry.xml&quot;</span>
<span class="n">geometry_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the geometry and materials finished, we now just need to define simulation parameters. In this case, we will use 10 inactive batches and 40 active batches each with 2500 particles.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># OpenMC simulation parameters</span>
<span class="n">batches</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">inactive</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">particles</span> <span class="o">=</span> <span class="mi">2500</span>

<span class="c"># Instantiate a SettingsFile</span>
<span class="n">settings_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">SettingsFile</span><span class="p">()</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">batches</span> <span class="o">=</span> <span class="n">batches</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">inactive</span> <span class="o">=</span> <span class="n">inactive</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">particles</span> <span class="o">=</span> <span class="n">particles</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;tallies&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">&#39;summary&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="n">source_bounds</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">10.71</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.71</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mf">10.71</span><span class="p">,</span> <span class="mf">10.71</span><span class="p">,</span> <span class="mf">10.</span><span class="p">]</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">set_source_space</span><span class="p">(</span><span class="s">&#39;fission&#39;</span><span class="p">,</span> <span class="n">source_bounds</span><span class="p">)</span>

<span class="c"># Export to &quot;settings.xml&quot;</span>
<span class="n">settings_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let us also create a <code>PlotsFile</code> that we can use to verify that our fuel assembly geometry was created successfully.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Instantiate a Plot</span>
<span class="n">plot</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Plot</span><span class="p">(</span><span class="n">plot_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="s">&#39;materials-xy&#39;</span>
<span class="n">plot</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">plot</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">[</span><span class="mf">21.5</span><span class="p">,</span> <span class="mf">21.5</span><span class="p">]</span>
<span class="n">plot</span><span class="o">.</span><span class="n">pixels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">]</span>
<span class="n">plot</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s">&#39;mat&#39;</span>

<span class="c"># Instantiate a PlotsFile, add Plot, and export to &quot;plots.xml&quot;</span>
<span class="n">plot_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">PlotsFile</span><span class="p">()</span>
<span class="n">plot_file</span><span class="o">.</span><span class="n">add_plot</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
<span class="n">plot_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the plots.xml file, we can now generate and view the plot. OpenMC outputs plots in .ppm format, which can be converted into a compressed format like .png with the convert utility.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Run openmc in plotting mode</span>
<span class="n">executor</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Executor</span><span class="p">()</span>
<span class="n">executor</span><span class="o">.</span><span class="n">plot_geometry</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[15]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Convert OpenMC&#39;s funky ppm to png</span>
<span class="o">!</span>convert materials-xy.ppm materials-xy.png

<span class="c"># Display the materials plot inline</span>
<span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;materials-xy.png&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[16]:</div>


<div class="output_png output_subarea output_execute_result">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6AgMAAAD1grKuAAAABGdBTUEAALGPC/xhBQAAAAFzUkdC
AK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAxQTFRF
////chIS6YCRTb/E6kGE+wAAAAFiS0dEAIgFHUgAAAAJcEhZcwAAAEgAAABIAEbJaz4AAASWSURB
VGje7Zs7buMwEEBzieRcaYaB48KVisSFj7Cn4BFU2I37LVan8BFc5ABb2ICtpSSaHP5EUqOAzsIO
AjwEGjjiZ/hEDZ+eiJ9noHxe6fHvW4BPDmwHEMAaYBdAEb+5Amu/YNlyQLgP4xGhiG9avmwvsBF/
t/FkY2vj69NLD1f41Z6Yiw3Gvy728ceVuhLhwY8bA0fij8EgO/6wjH2pF/lKxvf3tNG3Z+BRt4oH
h/Znt5bu+iQd+/Z/Xp8BmiO8X0X/n7KQNbWIZ1wMJjEUPwBuuI1hfcMZxv9Pj19/AexrYH84KASF
V41nhe8Ku/4f+nSpu3eNsdadjpBLFPF6pIE76Hx4QeiMfy/yVQi/cf6mxx900jk4ScfGlc4/q9v8
c9sPxhpN4wn3n+qepeqeAK5x/3WZfieGx+8h6Uv8DCNHeAfjv3Q8q0VjwJCesrFbP2X+7NZPidAj
E7hAyGTSFOvnLX8erfw9YCV+BL4p7DL1gH3SNvK3Z/0Qn3HE64dn/eLifx1Fd/62eP4NVyLsJx1C
ce2bf/7mfL+Kt6UB+ivtm+YasT88u6Yi2z+M+lrpT432J4F9pw+mZOH+rP3pLP2pEzFhaiCdzESG
cOvBO5g/peMt6d2lYo39d0ivNUvwXyE6KhVb/ssh7r8LMRAs/1XrD0DcfxfiP8DrD54/AFV0/av6
eP/6acQH/NcTr/KH6JCYCnezMOi/8v5H/be7f9N/tdNyluC/sv3V+rnWTvuxUNj/tbax81+u0fDf
SuttOt7B/Ckd3zVvb7rafzFq6XWxifqv0f8x/2XZ+PBfw39tFb5YyPTz//z+u9P+a+KnTvoO3sH4
Lx3fiyzXTutgbxrgx8F/bdNNR+2/Uq/YuH9dLRXW60cVk14DK2P/aJkinQ7yDfZfR3pH/Feg47/5
32/6r196/cgVDu3/liK9DgLyX2260U5vMfr9dxvBh/+i+CzptVHE73V69WOj/ddBT/53toKdTV8j
/5vrT9b+7/eun9P2f6P+m7T/G/GPkP/m481/6xHpHcNu/PJhKFbi18SFi2DhHcyf0vHYf09Sb4ON
/iXR9d/J/U8Zf5dZxj91/s3ovzzqv3b+IfvvSNL1o5V/belNzP8P/5XxqdLhxdn9N6ZiQf+d6n8z
+OeP919K+5P7nzr+Ss+f0vHU/EfNv8T8T11/frr/Uv1jFv+l+Ffp8V88ng9YwTT/pz5/EPuf+vz1
H/pv1vM39fmfvP9A3f8oPn8Kx1P336j7f8T9x//Bf4n7z6T9b+r+O9l/qe8fSs+f0vHU91/U92+z
+m/++8d7eX869f0v9f0z+f039f176fFfOp5xWv0Htf4E9fSU+hfsv1Pqb/D4h2n1P9T6I2r9E6n+
ilr/Ra4/o9a/lZ4/peOp9ZcbYv0nsf70pXUe2rLqX19acv0ttf7XfmjOrT+2kxbE/Dd4fmZC/TW5
/ptaf156/pSOp55/mNF/Wx8y238vD//1+++k80fk80/U81elx3/peMZp5/+o5w8b2vlH7/7viP8m
nJ/JPf9Zev/X9oes87fYf21MOf9LPn9MPf9cdv78A0xugrwgDfcHAAAAJXRFWHRkYXRlOmNyZWF0
ZQAyMDE1LTExLTMwVDIxOjIwOjA3LTA1OjAwkFvB3QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNS0x
MS0zMFQyMToyMDowNy0wNTowMOEGeWEAAAAASUVORK5CYII=
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we can see from the plot, we have a nice array of fuel and guide tube pin cells with fuel, cladding, and water!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Create-an-MGXS-Library">Create an MGXS Library<a class="anchor-link" href="#Create-an-MGXS-Library">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we are ready to generate multi-group cross sections! First, let's define a 2-group structure using the built-in <code>EnergyGroups</code> class.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Instantiate a 2-group EnergyGroups object</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">mgxs</span><span class="o">.</span><span class="n">EnergyGroups</span><span class="p">()</span>
<span class="n">groups</span><span class="o">.</span><span class="n">group_edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.625e-6</span><span class="p">,</span> <span class="mf">20.</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we will instantiate an <code>openmc.mgxs.Library</code> for the energy groups with our the fuel assembly geometry.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Initialize an 2-group MGXS Library for OpenMOC</span>
<span class="n">mgxs_lib</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">mgxs</span><span class="o">.</span><span class="n">Library</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">energy_groups</span> <span class="o">=</span> <span class="n">groups</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, we must specify to the <code>Library</code> which types of cross sections to compute. In particular, the following are the multi-group cross section <code>MGXS</code> subclasses that are mapped to string codes accepted by the <code>Library</code> class:</p>
<ul>
<li><code>TotalXS</code> (<code>"total"</code>)</li>
<li><code>TransportXS</code> (<code>"transport"</code>)</li>
<li><code>AbsorptionXS</code> (<code>"absorption"</code>)</li>
<li><code>CaptureXS</code> (<code>"capture"</code>)</li>
<li><code>FissionXS</code> (<code>"fission"</code>)</li>
<li><code>NuFissionXS</code> (<code>"nu-fission"</code>)</li>
<li><code>ScatterXS</code> (<code>"scatter"</code>)</li>
<li><code>NuScatterXS</code> (<code>"nu-scatter"</code>)</li>
<li><code>ScatterMatrixXS</code> (<code>"scatter matrix"</code>)</li>
<li><code>NuScatterMatrixXS</code> (<code>"nu-scatter matrix"</code>)</li>
<li><code>Chi</code> (<code>"chi"</code>)</li>
</ul>
<p>In this case, let's create the multi-group cross sections needed to run an OpenMOC simulation to verify the accuracy of our cross sections. In particular, we will define <code>"transport"</code>, <code>"nu-fission"</code>, <code>"nu-scatter matrix"</code> and <code>"chi"</code> cross sections for our <code>Library</code>.</p>
<p><strong>Note</strong>: A variety of different approximate transport-corrected total multi-group cross sections (and corresponding scattering matrices) can be found in the literature. At the present time, the <code>openmc.mgxs</code> module only supports the <code>"P0"</code> transport correction. This correction can be turned on and off through the boolean <code>Library.correction</code> property which may take values of <code>"P0"</code> (default) or <code>None</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Specify multi-group cross section types to compute</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">mgxs_types</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;transport&#39;</span><span class="p">,</span> <span class="s">&#39;nu-fission&#39;</span><span class="p">,</span> <span class="s">&#39;nu-scatter matrix&#39;</span><span class="p">,</span> <span class="s">&#39;chi&#39;</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we must specify the type of domain over which we would like the <code>Library</code> to compute multi-group cross sections. The domain type corresponds to the type of tally filter to be used in the tallies created to compute multi-group cross sections. At the present time, the <code>Library</code> supports <code>"material,"</code> <code>"cell,"</code> and <code>"universe"</code> domain types. We will use a <code>"cell"</code> domain type here to compute cross sections in each of the cells in the fuel assembly geometry.</p>
<p><strong>Note:</strong> By default, the <code>Library</code> class will instantiate <code>MGXS</code> objects for each and every domain (material, cell or universe) in the geometry of interest. However, one may specify a subset of these domains to the <code>Library.domains</code> property. In our case, we wish to compute multi-group cross sections in each and every cell since they will be needed in our downstream OpenMOC calculation on the identical combinatorial geometry mesh.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Specify a &quot;cell&quot; domain type for the cross section tally filters</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">domain_type</span> <span class="o">=</span> <span class="s">&quot;cell&quot;</span>

<span class="c"># Specify the cell domains over which to compute multi-group cross sections</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">domains</span> <span class="o">=</span> <span class="n">geometry</span><span class="o">.</span><span class="n">get_all_material_cells</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can easily instruct the <code>Library</code> to compute multi-group cross sections on a nuclide-by-nuclide basis with the boolean <code>Library.by_nuclide</code> property. By default, <code>by_nuclide</code> is set to <code>False</code>, but we will set it to <code>True</code> here.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Compute cross sections on a nuclide-by-nuclide basis</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">by_nuclide</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lastly, we use the <code>Library</code> to construct the tallies needed to compute all of the requested multi-group cross sections in each domain and nuclide.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Construct all tallies needed for the multi-group cross section library</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">build_library</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The tallies can now be export to a "tallies.xml" input file for OpenMC.</p>
<p><strong>NOTE</strong>: At this point the <code>Library</code> has constructed nearly 100 distinct <code>Tally</code> objects. The overhead to tally in OpenMC scales as $O(N)$ for $N$ tallies, which can become a bottleneck for large tally datasets. To compensate for this, the Python API's <code>Tally</code>, <code>Filter</code> and <code>TalliesFile</code> classes allow for the smart <em>merging</em> of tallies when possible. The <code>Library</code> class supports this runtime optimization with the use of the optional <code>merge</code> paramter (<code>False</code> by default) for the <code>Library.add_to_tallies_file(...)</code> method, as shown below.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create a &quot;tallies.xml&quot; file for the MGXS Library</span>
<span class="n">tallies_file</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">TalliesFile</span><span class="p">()</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">add_to_tallies_file</span><span class="p">(</span><span class="n">tallies_file</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In addition, we instantiate a fission rate mesh tally to compare with OpenMOC.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Instantiate a tally Mesh</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Mesh</span><span class="p">(</span><span class="n">mesh_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">&#39;regular&#39;</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">dimension</span> <span class="o">=</span> <span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">]</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">lower_left</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">10.71</span><span class="p">,</span> <span class="o">-</span><span class="mf">10.71</span><span class="p">]</span>
<span class="n">mesh</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.26</span><span class="p">,</span> <span class="mf">1.26</span><span class="p">]</span>

<span class="c"># Instantiate tally Filter</span>
<span class="n">mesh_filter</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Filter</span><span class="p">()</span>
<span class="n">mesh_filter</span><span class="o">.</span><span class="n">mesh</span> <span class="o">=</span> <span class="n">mesh</span>

<span class="c"># Instantiate the Tally</span>
<span class="n">tally</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Tally</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;mesh tally&#39;</span><span class="p">)</span>
<span class="n">tally</span><span class="o">.</span><span class="n">add_filter</span><span class="p">(</span><span class="n">mesh_filter</span><span class="p">)</span>
<span class="n">tally</span><span class="o">.</span><span class="n">add_score</span><span class="p">(</span><span class="s">&#39;fission&#39;</span><span class="p">)</span>
<span class="n">tally</span><span class="o">.</span><span class="n">add_score</span><span class="p">(</span><span class="s">&#39;nu-fission&#39;</span><span class="p">)</span>

<span class="c"># Add mesh and Tally to TalliesFile</span>
<span class="n">tallies_file</span><span class="o">.</span><span class="n">add_mesh</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span>
<span class="n">tallies_file</span><span class="o">.</span><span class="n">add_tally</span><span class="p">(</span><span class="n">tally</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Export all tallies to a &quot;tallies.xml&quot; file</span>
<span class="n">tallies_file</span><span class="o">.</span><span class="n">export_to_xml</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Run OpenMC</span>
<span class="n">executor</span><span class="o">.</span><span class="n">run_simulation</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
       .d88888b.                             888b     d888  .d8888b.
      d88P&quot; &quot;Y88b                            8888b   d8888 d88P  Y88b
      888     888                            88888b.d88888 888    888
      888     888 88888b.   .d88b.  88888b.  888Y88888P888 888       
      888     888 888 &quot;88b d8P  Y8b 888 &quot;88b 888 Y888P 888 888       
      888     888 888  888 88888888 888  888 888  Y8P  888 888    888
      Y88b. .d88P 888 d88P Y8b.     888  888 888   &quot;   888 Y88b  d88P
       &quot;Y88888P&quot;  88888P&quot;   &quot;Y8888  888  888 888       888  &quot;Y8888P&quot;
__________________888______________________________________________________
                  888
                  888

      Copyright:      2011-2015 Massachusetts Institute of Technology
      License:        http://mit-crpg.github.io/openmc/license.html
      Version:        0.7.0
      Git SHA1:       c4b14a5ef87f004528d35cbf33fef3ed15a386ca
      Date/Time:      2015-11-30 21:20:07
      MPI Processes:  1

 ===========================================================================
 ========================&gt;     INITIALIZATION     &lt;=========================
 ===========================================================================

 Reading settings XML file...
 Reading cross sections XML file...
 Reading geometry XML file...
 Reading materials XML file...
 Reading tallies XML file...
 Building neighboring cells lists for each surface...
 Loading ACE cross section table: 92235.71c
 Loading ACE cross section table: 92238.71c
 Loading ACE cross section table: 8016.71c
 Loading ACE cross section table: 1001.71c
 Loading ACE cross section table: 5010.71c
 Loading ACE cross section table: 40090.71c
 Maximum neutron transport energy: 20.0000 MeV for 92235.71c
 Initializing source particles...

 ===========================================================================
 ====================&gt;     K EIGENVALUE SIMULATION     &lt;====================
 ===========================================================================

  Bat./Gen.      k            Average k         
  =========   ========   ====================   
        1/1    1.02650                       
        2/1    1.01386                       
        3/1    1.01045                       
        4/1    1.05511                       
        5/1    1.04873                       
        6/1    1.04558                       
        7/1    1.03840                       
        8/1    1.02086                       
        9/1    1.08845                       
       10/1    1.03932                       
       11/1    1.01271                       
       12/1    1.03448    1.02360 +/- 0.01088
       13/1    1.04395    1.03038 +/- 0.00925
       14/1    1.05477    1.03648 +/- 0.00894
       15/1    1.00485    1.03015 +/- 0.00938
       16/1    1.04523    1.03267 +/- 0.00806
       17/1    1.01328    1.02990 +/- 0.00735
       18/1    1.01476    1.02800 +/- 0.00664
       19/1    1.01490    1.02655 +/- 0.00604
       20/1    1.00926    1.02482 +/- 0.00567
       21/1    0.98504    1.02120 +/- 0.00627
       22/1    1.00397    1.01977 +/- 0.00591
       23/1    1.02556    1.02021 +/- 0.00545
       24/1    0.99808    1.01863 +/- 0.00529
       25/1    0.99638    1.01715 +/- 0.00514
       26/1    0.99615    1.01584 +/- 0.00499
       27/1    1.01843    1.01599 +/- 0.00469
       28/1    1.00315    1.01528 +/- 0.00447
       29/1    1.00633    1.01480 +/- 0.00426
       30/1    1.02159    1.01514 +/- 0.00405
       31/1    1.03395    1.01604 +/- 0.00396
       32/1    1.02672    1.01652 +/- 0.00381
       33/1    1.03778    1.01745 +/- 0.00375
       34/1    1.03807    1.01831 +/- 0.00369
       35/1    1.07854    1.02072 +/- 0.00428
       36/1    1.03524    1.02128 +/- 0.00415
       37/1    1.03100    1.02164 +/- 0.00401
       38/1    1.03853    1.02224 +/- 0.00391
       39/1    1.04089    1.02288 +/- 0.00383
       40/1    1.02150    1.02284 +/- 0.00370
       41/1    0.98470    1.02161 +/- 0.00379
       42/1    1.00658    1.02114 +/- 0.00370
       43/1    0.98652    1.02009 +/- 0.00373
       44/1    1.02787    1.02032 +/- 0.00363
       45/1    0.98800    1.01939 +/- 0.00364
       46/1    1.00286    1.01893 +/- 0.00357
       47/1    1.02559    1.01911 +/- 0.00348
       48/1    1.03729    1.01959 +/- 0.00342
       49/1    1.02538    1.01974 +/- 0.00333
       50/1    1.01478    1.01962 +/- 0.00325
 Creating state point statepoint.50.h5...

 ===========================================================================
 ======================&gt;     SIMULATION FINISHED     &lt;======================
 ===========================================================================


 =======================&gt;     TIMING STATISTICS     &lt;=======================

 Total time for initialization     =  4.2800E-01 seconds
   Reading cross sections          =  9.1000E-02 seconds
 Total time in simulation          =  4.1240E+01 seconds
   Time in transport only          =  4.1215E+01 seconds
   Time in inactive batches        =  4.0230E+00 seconds
   Time in active batches          =  3.7217E+01 seconds
   Time synchronizing fission bank =  8.0000E-03 seconds
     Sampling source sites         =  6.0000E-03 seconds
     SEND/RECV source sites        =  2.0000E-03 seconds
   Time accumulating tallies       =  2.0000E-03 seconds
 Total time for finalization       =  0.0000E+00 seconds
 Total time elapsed                =  4.1683E+01 seconds
 Calculation Rate (inactive)       =  6214.27 neutrons/second
 Calculation Rate (active)         =  2686.94 neutrons/second

 ============================&gt;     RESULTS     &lt;============================

 k-effective (Collision)     =  1.01805 +/-  0.00261
 k-effective (Track-length)  =  1.01962 +/-  0.00325
 k-effective (Absorption)    =  1.01554 +/-  0.00339
 Combined k-effective        =  1.01711 +/-  0.00235
 Leakage Fraction            =  0.00000 +/-  0.00000

</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">Out[26]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Tally-Data-Processing">Tally Data Processing<a class="anchor-link" href="#Tally-Data-Processing">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Our simulation ran successfully and created statepoint and summary output files. We begin our analysis by instantiating a <code>StatePoint</code> object.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Load the last statepoint file</span>
<span class="n">sp</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">StatePoint</span><span class="p">(</span><span class="s">&#39;statepoint.50.h5&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In addition to the statepoint file, our simulation also created a summary file which encapsulates information about the materials and geometry. This is necessary for the <code>openmc.mgxs</code> module to properly process the tally data. We first create a <code>Summary</code> object and link it with the statepoint.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">su</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">Summary</span><span class="p">(</span><span class="s">&#39;summary.h5&#39;</span><span class="p">)</span>
<span class="n">sp</span><span class="o">.</span><span class="n">link_with_summary</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The statepoint is now ready to be analyzed by the <code>Library</code>. We simply have to load the tallies from the statepoint into the <code>Library</code> and our <code>MGXS</code> objects will compute the cross sections for us under-the-hood.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Initialize MGXS Library with OpenMC statepoint data</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">load_from_statepoint</span><span class="p">(</span><span class="n">sp</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python2.7/dist-packages/openmc-0.7.0-py2.7.egg/openmc/tallies.py:1514: RuntimeWarning: invalid value encountered in true_divide
/usr/local/lib/python2.7/dist-packages/openmc-0.7.0-py2.7.egg/openmc/tallies.py:1515: RuntimeWarning: invalid value encountered in true_divide
/usr/local/lib/python2.7/dist-packages/openmc-0.7.0-py2.7.egg/openmc/tallies.py:1516: RuntimeWarning: invalid value encountered in true_divide
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Voila! Our multi-group cross sections are now ready to rock 'n roll!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Extracting-and-Storing-MGXS-Data">Extracting and Storing MGXS Data<a class="anchor-link" href="#Extracting-and-Storing-MGXS-Data">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>Library</code> supports a rich API to automate a variety of tasks, including multi-group cross section data retrieval and storage. We will highlight a few of these features here. First, the <code>Library.get_mgxs(...)</code> method allows one to extract an <code>MGXS</code> object from the <code>Library</code> for a particular domain and cross section type. The following cell illustrates how one may extract the <code>NuFissionXS</code> object for the fuel cell.</p>
<p><strong>Note:</strong> The <code>MGXS.get_mgxs(...)</code> method will accept either the domain <em>or</em> the integer domain ID of interest.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Retrieve the NuFissionXS object for the fuel cell from the library</span>
<span class="n">fuel_mgxs</span> <span class="o">=</span> <span class="n">mgxs_lib</span><span class="o">.</span><span class="n">get_mgxs</span><span class="p">(</span><span class="n">fuel_cell</span><span class="p">,</span> <span class="s">&#39;nu-fission&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>NuFissionXS</code> object supports all of the methods described previously the <code>openmc.mgxs</code> tutorials, such as <a href="http://pandas.pydata.org/">Pandas</a> <code>DataFrames</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">df</span> <span class="o">=</span> <span class="n">fuel_mgxs</span><span class="o">.</span><span class="n">get_pandas_dataframe</span><span class="p">()</span>
<span class="n">df</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python2.7/dist-packages/openmc-0.7.0-py2.7.egg/openmc/mgxs/mgxs.py:1254: FutureWarning: elementwise comparison failed; returning scalar instead, but in the future will perform elementwise comparison
</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">Out[31]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cell</th>
      <th>group in</th>
      <th>nuclide</th>
      <th>mean</th>
      <th>std. dev.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>10000</td>
      <td>1</td>
      <td>U-235</td>
      <td>8.063513e-03</td>
      <td>4.062984e-05</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10000</td>
      <td>1</td>
      <td>U-238</td>
      <td>7.335515e-03</td>
      <td>4.459335e-05</td>
    </tr>
    <tr>
      <th>5</th>
      <td>10000</td>
      <td>1</td>
      <td>O-16</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
    </tr>
    <tr>
      <th>0</th>
      <td>10000</td>
      <td>2</td>
      <td>U-235</td>
      <td>3.613274e-01</td>
      <td>1.902492e-03</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10000</td>
      <td>2</td>
      <td>U-238</td>
      <td>6.738424e-07</td>
      <td>3.536787e-09</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10000</td>
      <td>2</td>
      <td>O-16</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similarly, we can use the <code>MGXS.print_xs(...)</code> method to view a string representation of the multi-group cross section data.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">fuel_mgxs</span><span class="o">.</span><span class="n">print_xs</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Multi-Group XS
	Reaction Type  =	nu-fission
	Domain Type    =	cell
	Domain ID      =	10000
	Nuclide        =	U-235
	Cross Sections [cm^-1]:
            Group 1 [6.25e-07   - 20.0      MeV]:	8.06e-03 +/- 5.04e-01%
            Group 2 [0.0        - 6.25e-07  MeV]:	3.61e-01 +/- 5.27e-01%

	Nuclide        =	U-238
	Cross Sections [cm^-1]:
            Group 1 [6.25e-07   - 20.0      MeV]:	7.34e-03 +/- 6.08e-01%
            Group 2 [0.0        - 6.25e-07  MeV]:	6.74e-07 +/- 5.25e-01%

	Nuclide        =	O-16
	Cross Sections [cm^-1]:
            Group 1 [6.25e-07   - 20.0      MeV]:	0.00e+00 +/- nan%
            Group 2 [0.0        - 6.25e-07  MeV]:	0.00e+00 +/- nan%



</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>One can export the entire <code>Library</code> to HDF5 with the <code>Library.build_hdf5_store(...)</code> method as follows:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Store the cross section data in an &quot;mgxs/mgxs.h5&quot; HDF5 binary file</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">build_hdf5_store</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;mgxs.h5&#39;</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="s">&#39;mgxs&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The HDF5 store will contain the numerical multi-group cross section data indexed by domain, nuclide and cross section type. Some data workflows may be optimized by storing and retrieving binary representations of the <code>MGXS</code> objects in the <code>Library</code>. This feature is supported through the <code>Library.dump_to_file(...)</code> and <code>Library.load_from_file(...)</code> routines which use Python's <a href="https://docs.python.org/2/library/pickle.html"><code>pickle</code></a> module. This is illustrated as follows.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Store a Library and its MGXS objects in a pickled binary file &quot;mgxs/mgxs.pkl&quot;</span>
<span class="n">mgxs_lib</span><span class="o">.</span><span class="n">dump_to_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;mgxs&#39;</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="s">&#39;mgxs&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Instantiate a new MGXS Library from the pickled binary file &quot;mgxs/mgxs.pkl&quot;</span>
<span class="n">mgxs_lib</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">mgxs</span><span class="o">.</span><span class="n">Library</span><span class="o">.</span><span class="n">load_from_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s">&#39;mgxs&#39;</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="s">&#39;mgxs&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>Library</code> class may be used to leverage the energy condensation features supported by the <code>MGXS</code> class. In particular, one can use the <code>Library.get_condensed_library(...)</code> with a coarse group structure which is a subset of the original "fine" group structure as shown below.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create a 1-group structure</span>
<span class="n">coarse_groups</span> <span class="o">=</span> <span class="n">openmc</span><span class="o">.</span><span class="n">mgxs</span><span class="o">.</span><span class="n">EnergyGroups</span><span class="p">(</span><span class="n">group_edges</span><span class="o">=</span><span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">20.</span><span class="p">])</span>

<span class="c"># Create a new MGXS Library on the coarse 1-group structure</span>
<span class="n">coarse_mgxs_lib</span> <span class="o">=</span> <span class="n">mgxs_lib</span><span class="o">.</span><span class="n">get_condensed_library</span><span class="p">(</span><span class="n">coarse_groups</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Retrieve the NuFissionXS object for the fuel cell from the 1-group library</span>
<span class="n">coarse_fuel_mgxs</span> <span class="o">=</span> <span class="n">coarse_mgxs_lib</span><span class="o">.</span><span class="n">get_mgxs</span><span class="p">(</span><span class="n">fuel_cell</span><span class="p">,</span> <span class="s">&#39;nu-fission&#39;</span><span class="p">)</span>

<span class="c"># Show the Pandas DataFrame for the 1-group MGXS</span>
<span class="n">coarse_fuel_mgxs</span><span class="o">.</span><span class="n">get_pandas_dataframe</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[37]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cell</th>
      <th>group in</th>
      <th>nuclide</th>
      <th>mean</th>
      <th>std. dev.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10000</td>
      <td>1</td>
      <td>U-235</td>
      <td>0.074383</td>
      <td>0.000280</td>
    </tr>
    <tr>
      <th>1</th>
      <td>10000</td>
      <td>1</td>
      <td>U-238</td>
      <td>0.005959</td>
      <td>0.000036</td>
    </tr>
    <tr>
      <th>2</th>
      <td>10000</td>
      <td>1</td>
      <td>O-16</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Verification-with-OpenMOC">Verification with OpenMOC<a class="anchor-link" href="#Verification-with-OpenMOC">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Of course it is always a good idea to verify that one's cross sections are accurate. We can easily do so here with the deterministic transport code <a href="https://mit-crpg.github.io/OpenMOC/">OpenMOC</a>. We will extract an OpenCG geometry from the summary file and convert it into an equivalent OpenMOC geometry.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Create an OpenMOC Geometry from the OpenCG Geometry</span>
<span class="n">openmoc_geometry</span> <span class="o">=</span> <span class="n">get_openmoc_geometry</span><span class="p">(</span><span class="n">mgxs_lib</span><span class="o">.</span><span class="n">opencg_geometry</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, we can inject the multi-group cross sections into the equivalent fuel assembly OpenMOC geometry. The <code>openmoc.materialize</code> module supports the loading of <code>Library</code> objects from OpenMC as illustrated below.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Load the library into the OpenMOC geometry</span>
<span class="n">materials</span> <span class="o">=</span> <span class="n">load_openmc_mgxs_lib</span><span class="p">(</span><span class="n">mgxs_lib</span><span class="p">,</span> <span class="n">openmoc_geometry</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are now ready to run OpenMOC to verify our cross-sections from OpenMC.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Generate tracks for OpenMOC</span>
<span class="n">openmoc_geometry</span><span class="o">.</span><span class="n">initializeFlatSourceRegions</span><span class="p">()</span>
<span class="n">track_generator</span> <span class="o">=</span> <span class="n">openmoc</span><span class="o">.</span><span class="n">TrackGenerator</span><span class="p">(</span><span class="n">openmoc_geometry</span><span class="p">,</span> <span class="n">num_azim</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">spacing</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">track_generator</span><span class="o">.</span><span class="n">generateTracks</span><span class="p">()</span>

<span class="c"># Run OpenMOC</span>
<span class="n">solver</span> <span class="o">=</span> <span class="n">openmoc</span><span class="o">.</span><span class="n">CPUSolver</span><span class="p">(</span><span class="n">track_generator</span><span class="p">)</span>
<span class="n">solver</span><span class="o">.</span><span class="n">computeEigenvalue</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[  NORMAL ]  Ray tracing for track segmentation...
[  NORMAL ]  Dumping tracks to file...
[  NORMAL ]  Computing the eigenvalue...
[  NORMAL ]  Iteration 0:	k_eff = 0.854316	res = 0.000E+00
[  NORMAL ]  Iteration 1:	k_eff = 0.801593	res = 1.522E-01
[  NORMAL ]  Iteration 2:	k_eff = 0.761131	res = 6.380E-02
[  NORMAL ]  Iteration 3:	k_eff = 0.731467	res = 5.066E-02
[  NORMAL ]  Iteration 4:	k_eff = 0.709897	res = 3.910E-02
[  NORMAL ]  Iteration 5:	k_eff = 0.695110	res = 2.954E-02
[  NORMAL ]  Iteration 6:	k_eff = 0.685966	res = 2.085E-02
[  NORMAL ]  Iteration 7:	k_eff = 0.681511	res = 1.317E-02
[  NORMAL ]  Iteration 8:	k_eff = 0.680926	res = 6.520E-03
[  NORMAL ]  Iteration 9:	k_eff = 0.683509	res = 1.046E-03
[  NORMAL ]  Iteration 10:	k_eff = 0.688659	res = 3.848E-03
[  NORMAL ]  Iteration 11:	k_eff = 0.695860	res = 7.565E-03
[  NORMAL ]  Iteration 12:	k_eff = 0.704674	res = 1.048E-02
[  NORMAL ]  Iteration 13:	k_eff = 0.714726	res = 1.269E-02
[  NORMAL ]  Iteration 14:	k_eff = 0.725700	res = 1.428E-02
[  NORMAL ]  Iteration 15:	k_eff = 0.737329	res = 1.537E-02
[  NORMAL ]  Iteration 16:	k_eff = 0.749388	res = 1.604E-02
[  NORMAL ]  Iteration 17:	k_eff = 0.761690	res = 1.637E-02
[  NORMAL ]  Iteration 18:	k_eff = 0.774081	res = 1.643E-02
[  NORMAL ]  Iteration 19:	k_eff = 0.786432	res = 1.628E-02
[  NORMAL ]  Iteration 20:	k_eff = 0.798638	res = 1.597E-02
[  NORMAL ]  Iteration 21:	k_eff = 0.810618	res = 1.553E-02
[  NORMAL ]  Iteration 22:	k_eff = 0.822303	res = 1.501E-02
[  NORMAL ]  Iteration 23:	k_eff = 0.833643	res = 1.443E-02
[  NORMAL ]  Iteration 24:	k_eff = 0.844598	res = 1.380E-02
[  NORMAL ]  Iteration 25:	k_eff = 0.855140	res = 1.315E-02
[  NORMAL ]  Iteration 26:	k_eff = 0.865249	res = 1.249E-02
[  NORMAL ]  Iteration 27:	k_eff = 0.874914	res = 1.183E-02
[  NORMAL ]  Iteration 28:	k_eff = 0.884128	res = 1.118E-02
[  NORMAL ]  Iteration 29:	k_eff = 0.892891	res = 1.054E-02
[  NORMAL ]  Iteration 30:	k_eff = 0.901206	res = 9.920E-03
[  NORMAL ]  Iteration 31:	k_eff = 0.909080	res = 9.320E-03
[  NORMAL ]  Iteration 32:	k_eff = 0.916523	res = 8.745E-03
[  NORMAL ]  Iteration 33:	k_eff = 0.923546	res = 8.194E-03
[  NORMAL ]  Iteration 34:	k_eff = 0.930162	res = 7.669E-03
[  NORMAL ]  Iteration 35:	k_eff = 0.936387	res = 7.171E-03
[  NORMAL ]  Iteration 36:	k_eff = 0.942236	res = 6.698E-03
[  NORMAL ]  Iteration 37:	k_eff = 0.947725	res = 6.252E-03
[  NORMAL ]  Iteration 38:	k_eff = 0.952869	res = 5.830E-03
[  NORMAL ]  Iteration 39:	k_eff = 0.957687	res = 5.433E-03
[  NORMAL ]  Iteration 40:	k_eff = 0.962193	res = 5.060E-03
[  NORMAL ]  Iteration 41:	k_eff = 0.966404	res = 4.710E-03
[  NORMAL ]  Iteration 42:	k_eff = 0.970337	res = 4.381E-03
[  NORMAL ]  Iteration 43:	k_eff = 0.974006	res = 4.073E-03
[  NORMAL ]  Iteration 44:	k_eff = 0.977426	res = 3.785E-03
[  NORMAL ]  Iteration 45:	k_eff = 0.980613	res = 3.515E-03
[  NORMAL ]  Iteration 46:	k_eff = 0.983580	res = 3.264E-03
[  NORMAL ]  Iteration 47:	k_eff = 0.986341	res = 3.029E-03
[  NORMAL ]  Iteration 48:	k_eff = 0.988908	res = 2.809E-03
[  NORMAL ]  Iteration 49:	k_eff = 0.991293	res = 2.605E-03
[  NORMAL ]  Iteration 50:	k_eff = 0.993509	res = 2.415E-03
[  NORMAL ]  Iteration 51:	k_eff = 0.995566	res = 2.238E-03
[  NORMAL ]  Iteration 52:	k_eff = 0.997475	res = 2.073E-03
[  NORMAL ]  Iteration 53:	k_eff = 0.999246	res = 1.920E-03
[  NORMAL ]  Iteration 54:	k_eff = 1.000888	res = 1.777E-03
[  NORMAL ]  Iteration 55:	k_eff = 1.002409	res = 1.645E-03
[  NORMAL ]  Iteration 56:	k_eff = 1.003818	res = 1.522E-03
[  NORMAL ]  Iteration 57:	k_eff = 1.005123	res = 1.408E-03
[  NORMAL ]  Iteration 58:	k_eff = 1.006331	res = 1.302E-03
[  NORMAL ]  Iteration 59:	k_eff = 1.007450	res = 1.203E-03
[  NORMAL ]  Iteration 60:	k_eff = 1.008484	res = 1.112E-03
[  NORMAL ]  Iteration 61:	k_eff = 1.009440	res = 1.028E-03
[  NORMAL ]  Iteration 62:	k_eff = 1.010324	res = 9.496E-04
[  NORMAL ]  Iteration 63:	k_eff = 1.011141	res = 8.771E-04
[  NORMAL ]  Iteration 64:	k_eff = 1.011897	res = 8.100E-04
[  NORMAL ]  Iteration 65:	k_eff = 1.012594	res = 7.478E-04
[  NORMAL ]  Iteration 66:	k_eff = 1.013238	res = 6.903E-04
[  NORMAL ]  Iteration 67:	k_eff = 1.013833	res = 6.371E-04
[  NORMAL ]  Iteration 68:	k_eff = 1.014382	res = 5.879E-04
[  NORMAL ]  Iteration 69:	k_eff = 1.014889	res = 5.424E-04
[  NORMAL ]  Iteration 70:	k_eff = 1.015357	res = 5.004E-04
[  NORMAL ]  Iteration 71:	k_eff = 1.015789	res = 4.615E-04
[  NORMAL ]  Iteration 72:	k_eff = 1.016187	res = 4.255E-04
[  NORMAL ]  Iteration 73:	k_eff = 1.016554	res = 3.923E-04
[  NORMAL ]  Iteration 74:	k_eff = 1.016892	res = 3.617E-04
[  NORMAL ]  Iteration 75:	k_eff = 1.017204	res = 3.333E-04
[  NORMAL ]  Iteration 76:	k_eff = 1.017492	res = 3.072E-04
[  NORMAL ]  Iteration 77:	k_eff = 1.017757	res = 2.831E-04
[  NORMAL ]  Iteration 78:	k_eff = 1.018001	res = 2.608E-04
[  NORMAL ]  Iteration 79:	k_eff = 1.018226	res = 2.403E-04
[  NORMAL ]  Iteration 80:	k_eff = 1.018433	res = 2.213E-04
[  NORMAL ]  Iteration 81:	k_eff = 1.018624	res = 2.038E-04
[  NORMAL ]  Iteration 82:	k_eff = 1.018800	res = 1.877E-04
[  NORMAL ]  Iteration 83:	k_eff = 1.018962	res = 1.728E-04
[  NORMAL ]  Iteration 84:	k_eff = 1.019110	res = 1.591E-04
[  NORMAL ]  Iteration 85:	k_eff = 1.019248	res = 1.465E-04
[  NORMAL ]  Iteration 86:	k_eff = 1.019374	res = 1.348E-04
[  NORMAL ]  Iteration 87:	k_eff = 1.019490	res = 1.241E-04
[  NORMAL ]  Iteration 88:	k_eff = 1.019597	res = 1.142E-04
[  NORMAL ]  Iteration 89:	k_eff = 1.019695	res = 1.051E-04
[  NORMAL ]  Iteration 90:	k_eff = 1.019786	res = 9.670E-05
[  NORMAL ]  Iteration 91:	k_eff = 1.019869	res = 8.895E-05
[  NORMAL ]  Iteration 92:	k_eff = 1.019946	res = 8.183E-05
[  NORMAL ]  Iteration 93:	k_eff = 1.020016	res = 7.528E-05
[  NORMAL ]  Iteration 94:	k_eff = 1.020081	res = 6.922E-05
[  NORMAL ]  Iteration 95:	k_eff = 1.020141	res = 6.368E-05
[  NORMAL ]  Iteration 96:	k_eff = 1.020195	res = 5.857E-05
[  NORMAL ]  Iteration 97:	k_eff = 1.020246	res = 5.385E-05
[  NORMAL ]  Iteration 98:	k_eff = 1.020292	res = 4.954E-05
[  NORMAL ]  Iteration 99:	k_eff = 1.020335	res = 4.553E-05
[  NORMAL ]  Iteration 100:	k_eff = 1.020374	res = 4.185E-05
[  NORMAL ]  Iteration 101:	k_eff = 1.020410	res = 3.848E-05
[  NORMAL ]  Iteration 102:	k_eff = 1.020443	res = 3.537E-05
[  NORMAL ]  Iteration 103:	k_eff = 1.020474	res = 3.253E-05
[  NORMAL ]  Iteration 104:	k_eff = 1.020502	res = 2.989E-05
[  NORMAL ]  Iteration 105:	k_eff = 1.020527	res = 2.746E-05
[  NORMAL ]  Iteration 106:	k_eff = 1.020551	res = 2.526E-05
[  NORMAL ]  Iteration 107:	k_eff = 1.020573	res = 2.319E-05
[  NORMAL ]  Iteration 108:	k_eff = 1.020593	res = 2.134E-05
[  NORMAL ]  Iteration 109:	k_eff = 1.020611	res = 1.960E-05
[  NORMAL ]  Iteration 110:	k_eff = 1.020628	res = 1.800E-05
[  NORMAL ]  Iteration 111:	k_eff = 1.020643	res = 1.652E-05
[  NORMAL ]  Iteration 112:	k_eff = 1.020657	res = 1.518E-05
[  NORMAL ]  Iteration 113:	k_eff = 1.020670	res = 1.398E-05
[  NORMAL ]  Iteration 114:	k_eff = 1.020682	res = 1.283E-05
[  NORMAL ]  Iteration 115:	k_eff = 1.020693	res = 1.178E-05
[  NORMAL ]  Iteration 116:	k_eff = 1.020704	res = 1.083E-05
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We report the eigenvalues computed by OpenMC and OpenMOC here together to summarize our results.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Print report of keff and bias with OpenMC</span>
<span class="n">openmoc_keff</span> <span class="o">=</span> <span class="n">solver</span><span class="o">.</span><span class="n">getKeff</span><span class="p">()</span>
<span class="n">openmc_keff</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">k_combined</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">bias</span> <span class="o">=</span> <span class="p">(</span><span class="n">openmoc_keff</span> <span class="o">-</span> <span class="n">openmc_keff</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1e5</span>

<span class="k">print</span><span class="p">(</span><span class="s">&#39;openmc keff = {0:1.6f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">openmc_keff</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;openmoc keff = {0:1.6f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">openmoc_keff</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;bias [pcm]: {0:1.1f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">bias</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>openmc keff = 1.017105
openmoc keff = 1.020704
bias [pcm]: 359.8
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There is a non-trivial bias between the eigenvalues computed by OpenMC and OpenMOC. One can show that these biases do not converge to &lt;100 pcm with more particle histories. For heterogeneous geometries, additional measures must be taken to address the following three sources of bias:</p>
<ul>
<li>Appropriate transport-corrected cross sections</li>
<li>Spatial discretization of OpenMOC's mesh</li>
<li>Constant-in-angle multi-group cross sections</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Flux-and-Pin-Power-Visualizations">Flux and Pin Power Visualizations<a class="anchor-link" href="#Flux-and-Pin-Power-Visualizations">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will conclude this tutorial by illustrating how to visualize the fission rates computed by OpenMOC and OpenMC. First, we extract volume-integrated fission rates from OpenMC's mesh fission rate tally for each pin cell in the fuel assembly.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Get the OpenMC fission rate mesh tally data</span>
<span class="n">mesh_tally</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">get_tally</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;mesh tally&#39;</span><span class="p">)</span>
<span class="n">openmc_fission_rates</span> <span class="o">=</span> <span class="n">mesh_tally</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">scores</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;nu-fission&#39;</span><span class="p">])</span>

<span class="c"># Reshape array to 2D for plotting</span>
<span class="n">openmc_fission_rates</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">17</span><span class="p">,</span><span class="mi">17</span><span class="p">)</span>

<span class="c"># Normalize to the average pin power</span>
<span class="n">openmc_fission_rates</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">openmc_fission_rates</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we extract OpenMOC's volume-averaged fission rates into a 2D 17x17 NumPy array.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Export OpenMOC&#39;s fission rates for each pin cell instance in the fuel assembly</span>
<span class="n">openmoc</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">compute_fission_rates</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span>

<span class="c"># Open the pickle file with the fission rates</span>
<span class="n">fission_rates</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;fission-rates/fission-rates.pkl&#39;</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span> <span class="p">))</span>

<span class="c"># Allocate array for fission rates in each fuel pin</span>
<span class="n">openmoc_fission_rates</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">))</span>

<span class="c"># Extract fission rates for each fuel pin</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">fission_rates</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">lat_x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">lat_y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">key</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;:&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">4</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>    
    <span class="n">openmoc_fission_rates</span><span class="p">[</span><span class="n">lat_x</span><span class="p">,</span> <span class="n">lat_y</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

<span class="c"># Normalize to the average pin fission rate</span>
<span class="n">openmoc_fission_rates</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">openmoc_fission_rates</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can easily use Matplotlib to visualize the fission rates from OpenMC and OpenMOC side-by-side.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Plot OpenMC&#39;s fission rates in the left subplot</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">pylab</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">openmc_fission_rates</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;OpenMC Fission Rates&#39;</span><span class="p">)</span>

<span class="c"># Plot OpenMOC&#39;s fission rates in the right subplot</span>
<span class="n">fig2</span> <span class="o">=</span> <span class="n">pylab</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">openmoc_fission_rates</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s">&#39;none&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">&#39;jet&#39;</span><span class="p">)</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;OpenMOC Fission Rates&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[44]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.text.Text at 0x7fb9acb6fc10&gt;</pre>
</div>

</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
    </div>
  </div>

</div></div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="mgxs-part-ii.html">MGXS Part II: Advanced Features</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../../publications.html">Publications</a>&#160;&#160;»
        </p>

      </div>


    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2015, Massachusetts Institute of Technology.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30411614-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>