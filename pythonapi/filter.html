<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Filter &mdash; OpenMC Documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpenMC Documentation" href="../index.html" />
    <link rel="up" title="Python API" href="index.html" />
    <link rel="next" title="Geometry" href="geometry.html" />
    <link rel="prev" title="Element" href="element.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner">
        <a href="../index.html">
          <img class="logo" src="../_static/openmc.png" alt="Logo"/>
        </a>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="element.html">Element</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="geometry.html">Geometry</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-openmc.filter">
<span id="filter"></span><span id="pythonapi-filter"></span><h1>Filter<a class="headerlink" href="#module-openmc.filter" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="openmc.filter.Filter">
<em class="property">class </em><code class="descclassname">openmc.filter.</code><code class="descname">Filter</code><span class="sig-paren">(</span><em>type=None</em>, <em>bins=None</em><span class="sig-paren">)</span><a class="headerlink" href="#openmc.filter.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>A filter used to constrain a tally to a specific criterion, e.g. only
tally events when the particle is in a certain cell and energy range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>type</strong> (<em>str</em>) &#8211; The type of the tally filter. Acceptable values are &#8220;universe&#8221;,
&#8220;material&#8221;, &#8220;cell&#8221;, &#8220;cellborn&#8221;, &#8220;surface&#8221;, &#8220;mesh&#8221;, &#8220;energy&#8221;,
&#8220;energyout&#8221;, and &#8220;distribcell&#8221;.</li>
<li><strong>bins</strong> (<em>Integral or Iterable of Integral or Iterable of Real</em>) &#8211; The bins for the filter. This takes on different meaning for different
filters. See the OpenMC online documentation for more details.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="openmc.filter.Filter.type">
<code class="descname">type</code><a class="headerlink" href="#openmc.filter.Filter.type" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em></p>
<p>The type of the tally filter.</p>
</dd></dl>

<dl class="attribute">
<dt id="openmc.filter.Filter.bins">
<code class="descname">bins</code><a class="headerlink" href="#openmc.filter.Filter.bins" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Integral or Iterable of Integral or Iterable of Real</em></p>
<p>The bins for the filter</p>
</dd></dl>

<dl class="attribute">
<dt id="openmc.filter.Filter.num_bins">
<code class="descname">num_bins</code><a class="headerlink" href="#openmc.filter.Filter.num_bins" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Integral</em></p>
<p>The number of filter bins</p>
</dd></dl>

<dl class="attribute">
<dt id="openmc.filter.Filter.mesh">
<code class="descname">mesh</code><a class="headerlink" href="#openmc.filter.Filter.mesh" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Mesh or None</em></p>
<p>A Mesh object for &#8216;mesh&#8217; type filters.</p>
</dd></dl>

<dl class="attribute">
<dt id="openmc.filter.Filter.offset">
<code class="descname">offset</code><a class="headerlink" href="#openmc.filter.Filter.offset" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Integral</em></p>
<p>A value used to index tally bins for &#8216;distribcell&#8217; tallies.</p>
</dd></dl>

<dl class="attribute">
<dt id="openmc.filter.Filter.stride">
<code class="descname">stride</code><a class="headerlink" href="#openmc.filter.Filter.stride" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Integral</em></p>
<p>The number of filter, nuclide and score bins within each of this
filter&#8217;s bins.</p>
</dd></dl>

<dl class="method">
<dt id="openmc.filter.Filter.can_merge">
<code class="descname">can_merge</code><span class="sig-paren">(</span><em>filter</em><span class="sig-paren">)</span><a class="headerlink" href="#openmc.filter.Filter.can_merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if filter can be merged with another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter</strong> (<a class="reference internal" href="#openmc.filter.Filter" title="openmc.filter.Filter"><em>Filter</em></a>) &#8211; Filter to compare with</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Whether the filter can be merged</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openmc.filter.Filter.get_bin">
<code class="descname">get_bin</code><span class="sig-paren">(</span><em>bin_index</em><span class="sig-paren">)</span><a class="headerlink" href="#openmc.filter.Filter.get_bin" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the filter bin for some filter bin index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bin_index</strong> (<em>Integral</em>) &#8211; The zero-based index into the filter&#8217;s array of bins. The bin
index for &#8216;material&#8217;, &#8216;surface&#8217;, &#8216;cell&#8217;, &#8216;cellborn&#8217;, and &#8216;universe&#8217;
filters corresponds to the ID in the filter&#8217;s list of bins. For
&#8216;distribcell&#8217; tallies the bin index necessarily can only be zero
since only one cell can be tracked per tally. The bin index for
&#8216;energy&#8217; and &#8216;energyout&#8217; filters corresponds to the energy range of
interest in the filter bins of energies. The bin index for &#8216;mesh&#8217;
filters is the index into the flattened array of (x,y) or (x,y,z)
mesh cell bins.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>bin</strong> &#8211;
The bin in the Tally data array. The bin for &#8216;material&#8217;, surface&#8217;,
&#8216;cell&#8217;, &#8216;cellborn&#8217;, &#8216;universe&#8217; and &#8216;distribcell&#8217; filters is a
1-tuple of the ID corresponding to the appropriate filter bin.
The bin for &#8216;energy&#8217; and &#8216;energyout&#8217; filters is a 2-tuple of the
lower and upper energies bounding the energy interval for the filter
bin. The bin for &#8216;mesh&#8217; tallies is a 2-tuple or 3-tuple of the x,y
or x,y,z mesh cell indices corresponding to the bin in a 2D/3D mesh.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">1-, 2-, or 3-tuple of Real</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#openmc.filter.Filter.get_bin_index" title="openmc.filter.Filter.get_bin_index"><code class="xref py py-meth docutils literal"><span class="pre">Filter.get_bin_index()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="openmc.filter.Filter.get_bin_index">
<code class="descname">get_bin_index</code><span class="sig-paren">(</span><em>filter_bin</em><span class="sig-paren">)</span><a class="headerlink" href="#openmc.filter.Filter.get_bin_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index in the Filter for some bin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter_bin</strong> (<em>Integral or tuple</em>) &#8211; The bin is the integer ID for &#8216;material&#8217;, &#8216;surface&#8217;, &#8216;cell&#8217;,
&#8216;cellborn&#8217;, and &#8216;universe&#8217; Filters. The bin is an integer for the
cell instance ID for &#8216;distribcell&#8217; Filters. The bin is a 2-tuple of
floats for &#8216;energy&#8217; and &#8216;energyout&#8217; filters corresponding to the
energy boundaries of the bin of interest. The bin is an (x,y,z)
3-tuple for &#8216;mesh&#8217; filters corresponding to the mesh cell
interest.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>filter_index</strong> &#8211;
The index in the Tally data array for this filter bin.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integral</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#openmc.filter.Filter.get_bin" title="openmc.filter.Filter.get_bin"><code class="xref py py-meth docutils literal"><span class="pre">Filter.get_bin()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="openmc.filter.Filter.get_pandas_dataframe">
<code class="descname">get_pandas_dataframe</code><span class="sig-paren">(</span><em>data_size</em>, <em>summary=None</em><span class="sig-paren">)</span><a class="headerlink" href="#openmc.filter.Filter.get_pandas_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a Pandas DataFrame for the Filter&#8217;s bins.</p>
<p>This method constructs a Pandas DataFrame object for the filter with
columns annotated by filter bin information. This is a helper method
for the Tally.get_pandas_dataframe(...) method.</p>
<p>This capability has been tested for Pandas &gt;=0.13.1. However, it is
recommended to use v0.16 or newer versions of Pandas since this method
uses Pandas&#8217; Multi-index functionality.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_size</strong> (<em>Integral</em>) &#8211; The total number of bins in the tally corresponding to this filter</li>
<li><strong>summary</strong> (<em>None or Summary</em>) &#8211; An optional Summary object to be used to construct columns for
distribcell tally filters (default is None). The geometric
information in the Summary object is embedded into a Multi-index
column with a geometric &#8220;path&#8221; to each distribcell instance.
NOTE: This option requires the OpenCG Python package.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>A Pandas DataFrame with columns of strings that characterize the
filter&#8217;s bins. The number of rows in the DataFrame is the same as
the total number of bins in the corresponding tally, with the filter
bin appropriately tiled to map to the corresponding tally bins.</p>
<p>For &#8216;cell&#8217;, &#8216;cellborn&#8217;, &#8216;surface&#8217;, &#8216;material&#8217;, and &#8216;universe&#8217;
filters, the DataFrame includes a single column with the cell,
surface, material or universe ID corresponding to each filter bin.</p>
<p>For &#8216;distribcell&#8217; filters, the DataFrame either includes:</p>
<ol class="arabic simple">
<li>a single column with the cell instance IDs (without summary info)</li>
<li>separate columns for the cell IDs, universe IDs, and lattice IDs
and x,y,z cell indices corresponding to each (with summary info).</li>
</ol>
<p>For &#8216;energy&#8217; and &#8216;energyout&#8217; filters, the DataFrame include a single
column with each element comprising a string with the lower, upper
energy bounds for each filter bin.</p>
<p>For &#8216;mesh&#8217; filters, the DataFrame includes three columns for the
x,y,z mesh cell indices corresponding to each filter bin.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">pandas.DataFrame</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">ImportError</span></code> &#8211;
When Pandas is not installed, or summary info is requested but
OpenCG is not installed.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">Tally.get_pandas_dataframe()</span></code>, <code class="xref py py-meth docutils literal"><span class="pre">CrossFilter.get_pandas_dataframe()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="openmc.filter.Filter.is_subset">
<code class="descname">is_subset</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#openmc.filter.Filter.is_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if another filter is a subset of this filter.</p>
<p>If all of the bins in the other filter are included as bins in this
filter, then it is a subset of this filter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>other</strong> (<a class="reference internal" href="#openmc.filter.Filter" title="openmc.filter.Filter"><em>Filter</em></a>) &#8211; The filter to query as a subset of this filter</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Whether or not the other filter is a subset of this filter</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="openmc.filter.Filter.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>filter</em><span class="sig-paren">)</span><a class="headerlink" href="#openmc.filter.Filter.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge this filter with another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter</strong> (<a class="reference internal" href="#openmc.filter.Filter" title="openmc.filter.Filter"><em>Filter</em></a>) &#8211; Filter to merge with</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>merged_filter</strong> &#8211;
Filter resulting from the merge</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#openmc.filter.Filter" title="openmc.filter.Filter">Filter</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="element.html">Element</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="geometry.html">Geometry</a>&#160;&#160;»
        </p>

      </div>


    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2015, Massachusetts Institute of Technology.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30411614-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>